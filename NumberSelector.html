<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Randomized Selector</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

    body {
      margin: 0;
      height: 100vh;
      background-color: black;
      background-image: url('images/Tech3409297.jpg');
      background-repeat: no-repeat;
      background-position: center center;
      background-attachment: fixed;
      background-size: cover;
      position: relative;
      font-family: 'Inter', sans-serif;
      color: #fff;
      text-shadow: 0 0 8px rgba(0,0,0,0.7);
      padding: 0;
      box-sizing: border-box;
      font-size: 1.5rem;
      font-weight: 700;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .main-content {
      padding-top: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      text-align: center;
    }

    .randomized-selector {
      text-align: center;
      z-index: 1;
    }

    h2 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    /* Result Display */
    .selected-result {
      font-size: 3rem;
      font-weight: 700;
      text-align: center;
      margin-top: 20px;
      padding: 20px;
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.6);
      margin-bottom: 30px;
      animation: glowPulse 2s infinite ease-in-out;
    }

    @keyframes glowPulse {
      0%, 100% {
        text-shadow: 0 0 10px #fff, 0 0 20px #fff;
        opacity: 1;
      }
      50% {
        text-shadow: 0 0 30px #fff, 0 0 60px #fff;
        opacity: 0.7;
      }
    }

    /* Input */
    .custom-number input {
      width: 50vw;
      max-width: 600px;
      padding: 30px 40px;
      font-size: 2.5rem;
      font-weight: 700;
      border-radius: 15px;
      border: 2px solid #ccc;
      text-align: center;
      background: rgba(255, 255, 255, 0.2);
      color: #fff;
      transition: border-color 0.3s, background 0.3s;
      font-family: 'Arial', sans-serif;
      -webkit-appearance: none;
      -moz-appearance: none;
      margin: 20px 0;
    }

    .custom-number input::placeholder {
      color: #fff;
      opacity: 1;
    }

    .custom-number input:focus {
      border-color: #0088ff;
      outline: none;
      background: rgba(255, 255, 255, 0.3);
    }

    /* GO Button row */
    .go-button-row {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    /* GO Button (Reverted size) */
    .go-button {
      padding: 25px;
      font-size: 2rem;
      font-weight: 700;
      border: 2px solid rgba(255, 255, 255, 0.6);
      background: transparent;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s, color 0.3s, transform 0.2s;
      backdrop-filter: blur(5px);
      color: #fff;
      text-transform: uppercase;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 120px;
      height: 120px;
    }

    .go-button:hover {
      background: rgba(255,255,255,0.4);
      color: #000;
      transform: scale(1.05);
    }

    .go-button:active {
      transform: scale(0.97);
    }

    /* No Repeat + Reset row */
    .secondary-controls-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-top: 30px;
    }

    /* Switch container */
    .switch-container {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1rem;
      margin: 0;
    }

    .switch-container label {
      font-weight: 700;
      font-size: 1rem;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.4s;
      border-radius: 50px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      border-radius: 50px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: 0.4s;
    }

    input:checked + .slider {
      background-color: #4CAF50;
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* Reset Button */
    .reset-number-history {
      padding: 12px 24px;
      font-size: 1.5rem;
      font-weight: 700;
      border: 2px solid rgba(255, 255, 255, 0.6);
      background: transparent;
      border-radius: 15px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s, transform 0.2s;
      backdrop-filter: blur(5px);
      color: #fff;
      text-transform: uppercase;
      margin: 0;
    }

    .reset-number-history:hover {
      background: rgba(255, 255, 255, 0.4);
      color: #000;
      transform: scale(1.05);
    }

    .reset-number-history:active {
      transform: scale(0.97);
    }

    @media (max-width: 1300px) {
      .custom-number input {
        width: 80%;
        font-size: 1.5rem;
      }

      .go-button {
        width: 100px;
        height: 100px;
        font-size: 1.5rem;
      }
    }

    /* Logo */
    .logo-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 96px;
      background: transparent;
      z-index: 1000;
      display: flex;
      align-items: flex-start;
      padding: 20px 0 0 20px;
      box-sizing: border-box;
    }

    .logo-img {
      height: 56px;
      width: auto;
      border-radius: 0px;
      box-shadow: none;
    }
  </style>
</head>
<body>

  <header class="logo-header">
    <img src="images/SELECTr%20WH%20logo.png" alt="Logo" class="logo-img">
  </header>
  <div class="main-content">
    <div class="randomized-selector">
      <h2>Number Selector</h2>
      <div class="selected-result" id="selectedResult">Please Enter a Number</div>

      <!-- Maximum Value Section -->
      <div class="custom-number">
        <input type="text" id="maxValue" placeholder="Enter Max Number">
      </div>

      <!-- GO Button Row -->
      <div class="go-button-row">
        <button class="go-button" onclick="selectRandomNumber()">GO!</button>
      </div>

      <!-- Secondary Controls Row (No Repeat + Reset) -->
      <div class="secondary-controls-row">
        <div class="switch-container">
          <label for="noRepeatSwitch">No Repeat</label>
          <label class="switch">
            <input type="checkbox" id="noRepeatSwitch" onclick="toggleNoRepeat()" checked>
            <span class="slider"></span>
          </label>
        </div>
        <button class="reset-number-history" onclick="resetHistory('number')">Reset</button>
      </div>
    </div>
  </div>

  <!-- Add Audio Elements -->
  <audio id="tickingSound" src="audio/ticking.mp3" preload="auto"></audio>
  <audio id="dingSound" src="audio/ding.mp3" preload="auto"></audio>

  <script>
    let selectedNumbers = [];
    let noRepeatNumbers = true;

    function toggleNoRepeat() {
      noRepeatNumbers = document.getElementById("noRepeatSwitch").checked;
    }

    document.getElementById("tickingSound").volume = 1;
    document.getElementById("dingSound").volume = 0.5;

    function selectRandomNumber() {
      const maxValue = parseInt(document.getElementById("maxValue").value);

      if (isNaN(maxValue) || maxValue < 1) {
        alert("Please enter a valid number greater than 0.");
        return;
      }

      const minValue = 1;

      if (noRepeatNumbers && selectedNumbers.length >= maxValue) {
        resetHistory('number');
        return;
      }

      let randomNum;
      let counter = 0;
      const resultDisplay = document.getElementById("selectedResult");
      document.querySelector('.custom-number').style.display = 'none';
      resultDisplay.style.fontSize = "3rem";

      document.getElementById("dingSound").pause();
      document.getElementById("dingSound").currentTime = 0;

      const cyclingEffect = setInterval(() => {
        randomNum = Math.floor(Math.random() * maxValue) + minValue;
        resultDisplay.textContent = randomNum;
        counter++;

        document.getElementById("tickingSound").play();

        if (counter >= 15) {
          clearInterval(cyclingEffect);
          selectedNumbers.push(randomNum);
          resultDisplay.textContent = randomNum;
          resultDisplay.style.fontSize = "10rem";

          document.getElementById("tickingSound").pause();
          document.getElementById("tickingSound").currentTime = 0;

          document.getElementById("dingSound").play();
        }
      }, 100);
    }

    function resetHistory(type) {
      if (type === 'number') {
        selectedNumbers = [];
      }
      document.getElementById("selectedResult").textContent = "Please Enter a Number";
      document.querySelector('.custom-number').style.display = 'block';
      document.getElementById("maxValue").value = '';
      document.getElementById("maxValue").placeholder = 'Enter Max Number';
      document.getElementById("selectedResult").style.fontSize = "3rem";
    }
  </script>
</body>
</html>
